<!DOCTYPE html>
<html lang="en">

<head>
     
    <style>
        
        body {
            background-image: url('prisonmap.jpg');    
            background-repeat: no-repeat;
        }

        .blob {    
        position: absolute;
        width: 50px;
        height: 25px;
        background: rgb(163, 164, 165);
        border-radius: none;
        }

        .gps_ring {
            border: 3px solid #999;
            -webkit-border-radius: 30px;
            height: 18px;
            width: 18px;
            position: absolute;
            border-color: red;
            -webkit-animation: pulsate 1s ease-out;
            -webkit-animation-iteration-count: infinite; 
            opacity: 0.0
        }
        @-webkit-keyframes pulsate {
            0% {-webkit-transform: scale(0.1, 0.1); opacity: 0.0;}
            50% {opacity: 1.0;}
            100% {-webkit-transform: scale(1.2, 1.2); opacity: 0.0;}
        }

        #pulser {
                position: absolute;
                width: 100%;
                height: 100%;
                background: red;
                animation-name: pulser;
                animation-duration: 0.5s;
                animation-iteration-count: infinite;
                animation-direction: alternate;
                text-align: center;
                font-size:100px;
            }
            @keyframes pulser {
                0%   {background-color: rgba(255, 0, 0, 0.466);}
                49%   {background-color: rgba(255, 0, 0, 0.466);}
                50%   {background-color: white;}
                100%   {background-color: white;}
            }
    </style>
    
</head>
<body>
    <div id="cella" style="position: absolute;left: 80px;top: 95px; width: 100px; height: 150px; border: 1px solid;"></div>
    <div id="tele" style="position: absolute;left: 80px;top: 545px; width: 100px; height: 150px; border: 1px solid;"></div>
    <div id="canteen" style="position: absolute;left: 1130px;top: 315px; width: 100px; height: 150px; border: 1px solid;"></div>

    
    <script>
        
        var person = [{
                id: "_P123",
                x: 100,
                y: -100,
            },
            {
                id: "_P234",
                x: 900,
                y: -300,
            },
            {
                id: "_P456",
                x: 100,
                y: -500,
            }];

        function placeDiv(person) {
            
            for(var i=0; i< person.length;i++) {
            x=person[i].x + 100;
            y=100 - person[i].y;

            
            if(x==200 && y==200) {
                cella.innerHTML+= person[i].id;
                var elem = document.createElement('div');
                elem.setAttribute("class","gps_ring");
                elem.setAttribute("id",'elem'+person.id);
                elem.style.top = y+'px';
                elem.style.left = x+'px';
                document.body.appendChild(elem);        
            }

            if(x==200 && y==600) {
                tele.innerHTML += person[i].id;
                var elem = document.createElement('div');
                elem.setAttribute("class","gps_ring");
                elem.setAttribute("id",'elem'+person.id);
                elem.style.top = y+'px';
                elem.style.left = x+'px';
                document.body.appendChild(elem);     
            }

            if(x==1000 && y==400) {
                canteen.innerHTML += person[i].id;
                var elem = document.createElement('div');
                elem.setAttribute("class","gps_ring");
                elem.setAttribute("id",'elem'+person.id);
                elem.style.top = y+'px';
                elem.style.left = x+'px';
                document.body.appendChild(elem);     
            }

            }

           /* if(document.getElementById('blob'+person.id)!= null) {
            	var blob=document.getElementById('blob'+person.id);
            	var elem=document.getElementById('elem'+person.id);
            	elem.style.top = y+'px';
            	elem.style.left = x+'px';
            	blob.style.left = x+25+'px';
            	blob.style.top = y+'px';
            	return;
            }
            // console.log(person.x,person.y)
            var elem = document.createElement('div');
            elem.setAttribute("class","gps_ring");
            elem.setAttribute("id",'elem'+person.id);
            elem.style.top = y+'px';
            elem.style.left = x+'px';
            document.body.appendChild(elem);        

            var b = document.createElement('div');
            b.setAttribute("class","blob");
            b.setAttribute("id",'blob'+person.id);
            b.style.left = x+25+'px';
            b.style.top = y+'px';
            b.textContent=person.id;
            document.body.appendChild(b);   */  
            
        }

        
            placeDiv(person);
        
        
        /*when prisoner escapes
        var p = document.createElement('div');
                p.setAttribute("id","pulser");
                p.textContent="DANGER DANGER! PRISONER XYZ ESCAPING!"; //XYZ replace with prsioner id
                var but = document.createElement("button");
                but.innerHTML="CAUGHT HIM? THEN PRESS HERE";
                
                document.body.appendChild(but);
                document.body.appendChild(p);
                
                but.setAttribute("onClick","document.body.removeChild(p);document.body.removeChild(but);");
                */

       
    </script>
    
</body>
</html>
